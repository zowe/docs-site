<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>ejes api exec</title>
<link rel="stylesheet" href="../css/bundle-docs.css">
<link rel="stylesheet" href="../css/docs.css">
<article class="markdown-body">
<h2><a href="zowe.html">zowe</a> ‚Ä∫ <a href="zowe_ejes.html">ejes</a> ‚Ä∫ <a href="zowe_ejes_api.html">api</a> ‚Ä∫ <a href="zowe_ejes_api_exec.html">exec</a><button id="btn-print" class="no-print" onclick="window.print();" title="Print">üñ®Ô∏è</button></h2>
<p>Executes an API command in an existing (stateful) or new transient (stateless) session.</p>
<p>Returns items as requested by the query parameters.  An existing session is used when a valid cookie is used as an argument on the --cookie option. This is the preferred scenario when multiple transactions are expected since it provides significant performance benefits. It requires server affinity for sessions in a clustered server environment.</p>
<p>A new transient session will be created if a --authorization or --user option is provided and a --cookie option is not. A transient session exists only for the current transaction and meets the goal of statelessness as defined by ROA and REST. However, it is much less efficient than using an existing session across multiple transactions, and does not preserve the state of the underlying (E)JES API. Nevertheless, it is the prefered scenario where a single transaction and statelessness suffice.</p>
<p>See the (E)JES REST API swagger documentation for details on the mapped options.  Enclose all option arguments in double quotes if they include spaces, semicolons, or symbols that are reserved in your terminal shell or if they might otherwise be ambiguous to the shell.  Options flagged with &quot;initParms model&quot; are valid only for stateless transactions on the exec command.</p>
<p>For a command group overview, issue: zowe ejes api -h</p>
<h4>Usage</h4>
<p>zowe ejes api exec [options]</p>
<h4>Query Item Options</h4>
<ul>
<li>
<p><code>--authorization</code> <em>(string)</em></p>
<ul>
<li>If you do not specify the --cookie option, you must include --user and --password or this option.  The base64 encoded authentication string can be of the form userid:password or userid:group:password.  If supplied, it overrides the profile user and password settings and starts a new session.</li>
</ul>
</li>
<li>
<p><code>--cookie</code> <em>(string)</em></p>
<ul>
<li>
<p>Supply the cookie output by a stateful request.  This option supports optional syntax to enable automatic managment of the cookie without scraping from stdout.</p>
<p>--cookie [&lt;cookie-value&gt;|read[&lt;pin&gt;]|write[&lt;pin&gt;]</p>
<p>The CLI can manage a stateful cookie transaction proactively.  On the init, specify --cookie write or --cookie write-pin where pin can be any alphanumeric string.  On the exec, cancel-download, and term specify --cookie read or --cookie read-pin.  The cookie generated by the host is managed in the user's work directory.  A pin is required only when there are multiple simultaneous sessions.</p>
</li>
</ul>
</li>
<li>
<p><code>-c</code> <em>(string)</em></p>
<ul>
<li>
<p>A list of comma separated, case-insensitive names of columns to include in the response. If omitted, all columns for the current tabular display are included.</p>
<p>This parameter only applies to enumerated data containing columns, specifically, the columns and rows items of the q parameter.</p>
<p>Limiting the included columns to only those you need can dramatically improve the resonse time of the request and significantly reduce system resources.</p>
</li>
</ul>
</li>
<li>
<p><code>-q</code> <em>(string)</em></p>
<ul>
<li>
<p>A list of comma separated, case-insensitive items to include in the response. If omitted, no items are included.</p>
<p>Limiting the included items to only those you need can improve response time.</p>
<p>The following items are supported: columns, environment, execParms, find, function, initParms, jobs, keys, lines, loginfo, rows, lineCommands, message, notice, platformEncoding, position, screen, submittedJobs, userLog, and version. These represent the response properties as described in the models section of this help. The value all can be used to include all of the above items, but generally you should only request the items you need.</p>
</li>
</ul>
</li>
<li>
<p><code>-d</code> <em>(string)</em></p>
<ul>
<li>
<p>A download type, either pdf or text.</p>
<p>When specified, all other query parameters are ignored. The Content-Type response header will report either application/pdf or text/plain (charset utf-8) if no error occurred, and application/json if an error occurred. If no error occurred, a Content-Disposition response header will supply a suggested filename.</p>
<p>A pdf or text property may be included in the POST data to override default pdf and text formatting options.</p>
<p>This parameter provides pdf or text data in the output stream and does not require enumeration.</p>
<p>The API must be positioned on a browser type display to download data. Afterwards, the positioning may have changed depending on the amount specified.</p>
<p>You can use CancelDownload to cancel a long running download.</p>
</li>
</ul>
</li>
<li>
<p><code>-m</code> <em>(string)</em></p>
<ul>
<li>
<p>A mail attachment type, either pdf or text.</p>
<p>At a minimum, a mail property is required in the POST data to specify one or more recipients. A pdf or text property may also be included to override default pdf and text formatting options.</p>
<p>The API must be positioned on a browser type display to send a mail attachment. Afterwards, the positioning may have changed depending on the amount specified.</p>
<p>Note that you cannot use CancelDownload to cancel a long running mail attachement request because the response<br>
containing the needed Cookie is not sent until after mail has been sent.</p>
</li>
</ul>
</li>
</ul>
<h4>Init Request Options</h4>
<ul>
<li>
<p><code>--casKey</code> <em>(string)</em></p>
<ul>
<li>See the initParms model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--columns</code> <em>(string)</em></p>
<ul>
<li>See the initParms model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--extractdd</code> <em>(string)</em></p>
<ul>
<li>See the initParms model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--ipaddress</code> <em>(string)</em></p>
<ul>
<li>See the initParms model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--luName</code> <em>(string)</em></p>
<ul>
<li>See the initParms model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--patterndd</code> <em>(string)</em></p>
<ul>
<li>See the initParms model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--rows</code> <em>(string)</em></p>
<ul>
<li>See the initParms model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--subsystem</code> <em>(string)</em></p>
<ul>
<li>
<p>See the initParms model in the Swagger documentation.</p>
<p>Allowed values: jes2, jes3</p>
</li>
</ul>
</li>
<li>
<p><code>--useragent</code> <em>(string)</em></p>
<ul>
<li>See the initParms model in the Swagger documentation.</li>
</ul>
</li>
</ul>
<h4>Exec Request Options</h4>
<ul>
<li>
<p><code>--command</code> <em>(string)</em></p>
<ul>
<li>See the execParms model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--commanddata</code> <em>(string)</em></p>
<ul>
<li>See the execParms model in the Swagger documentation.  Insert &quot;\n&quot; in the string to indicate line breaks.</li>
</ul>
</li>
<li>
<p><code>--commanddatafile</code> <em>(string)</em></p>
<ul>
<li>The contents of this file (usually JCL on the local workstation file system) must be escaped properly for --commanddata.  See the execParms model in the Swagger documentation.  Uses EJES_SUBMIT_PATH for the path if it exists in the environment.</li>
</ul>
</li>
<li>
<p><code>--enumtime</code> <em>(number)</em></p>
<ul>
<li>See the execParms model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--enumvalue</code> <em>(number)</em></p>
<ul>
<li>See the execParms model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--showhiddencolumns</code> <em>(boolean)</em></p>
<ul>
<li>See the execParms model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--translatescreen</code> <em>(boolean)</em></p>
<ul>
<li>See the execParms model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--waitforresponse</code> <em>(boolean)</em></p>
<ul>
<li>See the execParms model in the Swagger documentation.</li>
</ul>
</li>
</ul>
<h4>PDF and TEXT Common Options</h4>
<ul>
<li>
<p><code>--amount</code> <em>(number)</em></p>
<ul>
<li>See the pdf or text model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--blockid</code> <em>(number)</em></p>
<ul>
<li>See the pdf or text model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--cc</code> <em>(string)</em></p>
<ul>
<li>See the pdf or text model in the Swagger documentation.  (Carriage-control)</li>
</ul>
</li>
<li>
<p><code>--count</code> <em>(number)</em></p>
<ul>
<li>See the pdf or text model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--recordid</code> <em>(number)</em></p>
<ul>
<li>See the pdf or text model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--start</code> <em>(number)</em></p>
<ul>
<li>See the pdf or text model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--todend</code> <em>(number)</em></p>
<ul>
<li>See the pdf or text model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--todstart</code> <em>(number)</em></p>
<ul>
<li>See the pdf or text model in the Swagger documentation.</li>
</ul>
</li>
</ul>
<h4>PDF Download Options</h4>
<ul>
<li>
<p><code>--decorate</code> <em>(string)</em></p>
<ul>
<li>See the pdf model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--font</code> <em>(string)</em></p>
<ul>
<li>See the pdf model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--orientation</code> <em>(string)</em></p>
<ul>
<li>See the pdf model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--overflow</code> <em>(string)</em></p>
<ul>
<li>See the pdf model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--pagesize</code> <em>(string)</em></p>
<ul>
<li>See the pdf model in the Swagger documentation.</li>
</ul>
</li>
</ul>
<h4>PDF Security Property Options</h4>
<ul>
<li>
<p><code>--allowassembly</code> <em>(boolean)</em></p>
<ul>
<li>See the pdf model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--allowcopying</code> <em>(boolean)</em></p>
<ul>
<li>See the pdf model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--allowmodification</code> <em>(boolean)</em></p>
<ul>
<li>See the pdf model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--allowprinting</code> <em>(boolean)</em></p>
<ul>
<li>See the pdf model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--masterpassword</code> <em>(string)</em></p>
<ul>
<li>See the pdf model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--openpassword</code> <em>(string)</em></p>
<ul>
<li>See the pdf model in the Swagger documentation.</li>
</ul>
</li>
</ul>
<h4>Mail Options</h4>
<ul>
<li>
<p><code>--bcc</code> <em>(string)</em></p>
<ul>
<li>See the mail model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--body</code> <em>(string)</em></p>
<ul>
<li>See the mail model in the Swagger documentation.  Insert &quot;\n&quot; in the string to indicate line breaks.</li>
</ul>
</li>
<li>
<p><code>--bodyfile</code> <em>(string)</em></p>
<ul>
<li>See the mail model in the Swagger documentation.  The contents of the file are read and escaped properly for --body.  Uses EJES_SUBMIT_PATH for the path if it exists in the environment.</li>
</ul>
</li>
<li>
<p><code>--carboncopy</code> <em>(string)</em></p>
<ul>
<li>See the cc property the mail model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--from</code> <em>(string)</em></p>
<ul>
<li>See the mail model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--html</code> <em>(string)</em></p>
<ul>
<li>See the mail model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--subject</code> <em>(string)</em></p>
<ul>
<li>See the mail model in the Swagger documentation.</li>
</ul>
</li>
<li>
<p><code>--to</code> <em>(string)</em></p>
<ul>
<li>See the mail model in the Swagger documentation.</li>
</ul>
</li>
</ul>
<h4>Platform-encoding Options</h4>
<ul>
<li>
<p><code>--platformencoding</code> <em>(number)</em></p>
<ul>
<li>See the platformEncoding model in the Swagger documentation.  Defaults to 1047 if not specified.</li>
</ul>
</li>
</ul>
<h4>Debug Visualization Options</h4>
<ul>
<li>
<p><code>--debug</code> <em>(number)</em></p>
<ul>
<li>
<p>An additive flag for tech support use.</p>
<p>1 - Commands discovered and compiled-options object</p>
<p>2 - Request object</p>
<p>4 - Response headers</p>
</li>
</ul>
</li>
</ul>
<h4>EJES Connection Options</h4>
<ul>
<li>
<p><code>--protocol</code> | <code>--prot</code> <em>(string)</em></p>
<ul>
<li>
<p>Protocol used to access (E)JES server.</p>
<p>Default value: https<br>
Allowed values: http, https, list, help</p>
</li>
</ul>
</li>
<li>
<p><code>--host</code> <em>(string)</em></p>
<ul>
<li>The (E)JES server host name.</li>
</ul>
</li>
<li>
<p><code>--port</code> <em>(number)</em></p>
<ul>
<li>
<p>The (E)JES server port.</p>
<p>Default value: 443</p>
</li>
</ul>
</li>
<li>
<p><code>--user</code> <em>(string)</em></p>
<ul>
<li>Mainframe (E)JES user name, which can be the same as your TSO login.</li>
</ul>
</li>
<li>
<p><code>--password</code> | <code>--pass</code> | <code>--pw</code> <em>(string)</em></p>
<ul>
<li>Mainframe (E)JES password, which can be the same as your TSO password.</li>
</ul>
</li>
<li>
<p><code>--reject-unauthorized</code> | <code>--rejectunauthorized</code> | <code>--ru</code> <em>(boolean)</em></p>
<ul>
<li>
<p>Reject self-signed certificates.</p>
<p>Default value: true</p>
</li>
</ul>
</li>
<li>
<p><code>--base-path</code> | <code>--basepath</code> | <code>--bp</code> <em>(string)</em></p>
<ul>
<li>The base path for your API mediation layer instance. Specify this option to prepend the base path to all (E)JES resources when making REST requests.</li>
</ul>
</li>
<li>
<p><code>--color-scheme</code> | <code>--scheme</code> | <code>--cs</code> <em>(string)</em></p>
<ul>
<li>
<p>Accessibility option: Specify the name of a color scheme.  User scheme files may also be created and specified to provide better contrast or to favor easier to see colors.  For a how-to, use &quot;zowe ejes emulate batch --helpApp scheme-info&quot;.  Zowe ejes log stream ignores this option as it outputs plain text by default, only colorizing when ANSI color options are specified.</p>
<p>Allowed values: dark, light, powershell, nono, none, user-scheme-file, list, help</p>
<p>Default value: dark</p>
</li>
</ul>
</li>
<li>
<p><code>--no-color</code> | <code>--nocolor</code> | <code>--nc</code> <em>(string)</em></p>
<ul>
<li>Accessibility option: Specify to prevent colorization of the CLI.  Same effect as defining NO_COLOR or FORCE_COLOR=0.</li>
</ul>
</li>
</ul>
<h4>Profile Options</h4>
<ul>
<li>
<p><code>--ejes-profile</code> | <code>--ejes-p</code> <em>(string)</em></p>
<ul>
<li>The name of a (ejes) profile to load for this command execution.</li>
</ul>
</li>
</ul>
<h4>Examples</h4>
<ul>
<li>Perform a stateless transaction that submits a job using the --command option.  It shows the status of jobs with the same name, sorting so the most recent is shown first.   The --enumvalue option is requesting the top 5 lines.  The query parameter -q is requesting the  message array that will contain the submit result, lines of output, and the array of jobs submitted in this session.   The --commanddata option supplies the JCL to submit referred to by the &quot;api-array&quot;.  The &quot;\n&quot; are line separators an editor would supply.</li>
</ul>
<p>Example:</p>
<pre><code>  * `$  zowe ejes api exec --command &quot;submit api-array;st iefbr14;sort time d;upd&quot; --enumvalue 5 -q message,lines,submittedJobs --rfj --commanddata &quot;//IEFBR14  JOB IEFBR14,'IEFBR14',CLASS=A,MSGCLASS=H\n//EXEC     EXEC PGM=IEFBR14\n//&quot;`
</code></pre>
<ul>
<li>Perform the same stateless transaction above but use the --commanddatafile option to read a file from the workstation.  If EJES_SUBMIT_PATH is defined in the environment, that will be used as the file path, otherwise the same directory the CLI is run in will be used if a full path is not supplied.</li>
</ul>
<p>Example:</p>
<pre><code>  * `$  zowe ejes api exec --command &quot;submit api-array;st iefbr14;sort time d;upd&quot; --enumvalue 5 -q message,lines,submittedJobs --rfj --commanddatafile &quot;iefbr14.jcl&quot;`
</code></pre>
<ul>
<li>Perform a stateful request.  In this case, a previous request positioned the (E)JES api in a job browser.  This example downloads the file as PDF using the -d option.  It causes the carriage control symbols to be interpretted with the --cc option.  Then specifies stateful session with the cookie it generated specified on the --cookie option.  The sysout is download to a file with the name consistent with the browsed data set or browser.  If EJES_DOWNLOAD_PATH exists in the environment, the path is used for the download.  Otherwise, the file is created in the current working directory.  (For managed cookie stateful request examples, issue: Zowe ejes api -h)</li>
</ul>
<p>Example:</p>
<pre><code>  * `$  zowe ejes api exec -d text --cc interpret --cookie &quot;EJESWEB_54761=B6910D...;path=/EjesWeb;Secure;HttpOnly&quot;`
</code></pre>
</article>
<script src="../js/bundle-docs.js"></script>
<script src="../js/docs.js"></script>
