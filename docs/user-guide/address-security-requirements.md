# Addressing security requirements

:::info Roles required: security administrator
:::
During configuration of server-side components, it is necessary to configure various system security settings. Your
organization may require your security administrator to complete steps to configure Zowe security. As a system
administrator/programmer, first consult with your security administrator before you start the installation process.

**Note:** This article addresses configuring Zowe security during the Zowe z/OS components installation process, and
does not address security configuration to extend Zowe. For more information about security configuration to extend
Zowe, see the following articles:

- [Digital certificates](../getting-started/zowe-security-overview#digital-certificates)
- [User Authentication](../getting-started/zowe-security-overview#user-authentication)
- [Access Authorization](../getting-started/zowe-security-overview#access-authorization)

## Tasks performed by your security administrator

To configure Zowe security, your organization's security administrator is required to
perform various tasks. Some of the tasks apply to general Zowe configuration, while other tasks are required during
installation if you plan to use specific Zowe components or features.

The following required configuration tasks are performed by your organization's security administrator:

* [Initialize Zowe security configurations](../user-guide/initialize-security-configuration.md)
* [Perform APF authorization of load libraries](../user-guide/apf-authorize-load-library.md)
* [Configure the z/OS system for Zowe](./configure-zos-system.md#configure-user-ids-and-groups-for-the-zowe-started-tasks)
* [Configure address space job naming](../user-guide/configure-zos-system.md#configure-address-space-job-naming)
* [Assign security permissions of users](#assign-security-permissions-of-users)

If your Zowe server-side installation includes the features listed in the following table, consult your 
security administrator to perform the associated security tasks:

| Feature of a Zowe server-side component                                                                                                         | Configuration Task                                                                                                                                                                                                                                                                                                                                                         | 
|-------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| 
| If using Top Secret as your security manager <br/>**Note:** No specific configuration is necessary for security managers other than Top Secret. | [Configuring multi-user address space (for TSS only)](../user-guide/configure-zos-system.md#configure-multi-user-address-space-for-tss-only)                                                                                                                                                                                                                               |                                   
| High Availability                                                                                                                               | [Configuring ZWESLSTC to run Zowe high availability instances under ZWESVUSR user ID](../user-guide/configure-zos-system.md#configure-zweslstc-to-run-zowe-high-availability-instances-under-zwesvusr-user-id)                                                                                                                                                             |
| z/OSMF authentication or onboarding of z/OSMF service                                                                                           | [Granting users permission to access z/OSMF](../user-guide/grant-user-permission-zosmf.md)                                                                                                                                                                                                                                                                                 |
| ZSS component enabled (required for API ML certificate and identity mapping)                                                                    | [Configuring an ICSF cryptographic services environment](../user-guide/configure-zos-system.md#configure-an-icsf-cryptographic-services-environment) <br />and<br /> [Configuring security environment switching](../user-guide/configure-zos-system.md#configure-security-environment-switching)                                                                          |
| API Mediation Layer certificate mapping                                                                                                         | [Configuring main Zowe server to use client certificate identity mapping](../user-guide/configure-zos-system.md#configure-main-zowe-server-to-use-client-certificate-identity-mapping)                                                                                                                                                                                     |
| API Mediation Layer identity mapping                                                                                                            | [Configuring main Zowe server to use distributed identity mapping](../user-guide/configure-zos-system.md#configure-main-zowe-server-to-use-distributed-identity-mapping)                                                                                                                                                                                                   |
| API Mediation Layer Identity Tokens (IDT)                                                                                                       | [Configuring signed SAF Identity tokens (IDT)](../user-guide/configure-zos-system.md#configure-signed-saf-identity-tokens-idt)                                                                                                                                                                                                                                             |
| Cross memory server (ZIS)                                                                                                                       | [Configuring the cross memory server for SAF](../user-guide/configure-zos-system.md#configure-the-cross-memory-server-for-saf)<br />and<br />[Configuring cross memory server load module](../user-guide/configure-xmem-server.md#load-module)<br />and<br />[Configuring cross-memory server SAF configuration](../user-guide/configure-xmem-server.md#saf-configuration) |

### Assign security permissions of users

As a security administrator, assign users (`ZWESVUSR` and `ZWESIUSR`) and the `ZWEADMIN` security group permissions required to perform specific
tasks.

### Overview of user categories and roles

Specific user IDs with sufficient permissions are required to run or access Zowe.
Your organization's security administrator is responsible to assign the following user IDs during Zowe z/OS component
configuration.

The following user IDs run Zowe:

* **ZWESVUSR**  
  This is the started task ID of the Zowe runtime user who runs most of the Zowe core
  components. <!-- It seems this information about working with USS should be in a table and not in this short description -->
  To work with USS, this user ID must have a valid OMVS segment. For more information about OMVS segments, see the
  article _The OMVS segment in user profiles_ in the IBM documentation. For detailed information about which permissions
  are
  required to run Zowe core services as well as specific individual components, see
  the [Security Permissions Reference Table](#security-permissions-reference-table) in this article.
* **ZWESIUSR**  
  This user runs the cross memory server (ZIS). This is a started task ID used to run the PROCLIB `ZWESISTC` that
  launches the [cross memory server (ZIS)](./configure-xmem-server.md). This started task ID must have a valid OMVS
  segment.

The security administrator also assigns permissions to the security group **ZWEADMIN**. `ZWEADMIN` is a group
consisting of `ZWESVUSR` and `ZWESIUSR`. This group must have a valid OMVS segment.

Additionally, the security administrator assigns permissions to individual Zowe users. If z/OSMF is used for
authentication and serving REST APIs for Zowe CLI and Zowe Explorer users, the TSO user ID for end users must belong to
one or both of the groups `IZUUSER` or `IZUADMIN`.

## Security Permissions Reference Table

The following reference table describes which permissions are required for the user ID `ZWESVUSR` to run Zowe core
services and specific individual components.

If you already successfully ran
the [`ZWESECUR`](/docs/user-guide/initialize-security-configuration.md#configuring-with-zwesecur-jcl) JCL either
separately or by running
the [`zwe init security`](/docs/user-guide/initialize-security-configuration.md#configuring-with-zwe-init-security-command)
command, you do not need to perform the steps described in this section. The TSO commands to create the user IDs and
groups are executed during the JCL sections of `ZWESECUR`. For more information about the `zwe init security` command,
see [zwe init security](../appendix/zwe_server_command_reference/zwe/init/zwe-init-security.md).

| Feature of a Zowe server-side component                    | Resource class | Resource name               | Type of access required | Reason                                                                                                                                                                                                                                                                                                                                                            | Actions                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|------------------------------------------------------------|----------------|-----------------------------|-------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Core                                                       | FACILITY       | `BPX.JOBNAME`               | READ                    | Allow z/OS address spaces for unix processes to be renamed for [ease of identification](./configure-zos-system.md#configure-address-space-job-naming).                                                                                                                                                                                                            | This parameter permits the Zowe main server to set the job name. Run the command that applies to your ESM. <br/>• [RACF](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L353) <br/>• [ACF2](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L586) <br/>• [Top Secret](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L801)                           |
| API Mediation Layer certificate mapping                    | FACILITY       | `IRR.RUSERMAP`              | READ                    | **Optional** Allow Zowe to [map an X.509 client certificate to a z/OS identity](./configure-zos-system.md#configure-main-zowe-server-to-use-client-certificate-identity-mapping).                                                                                                                                                                                 | This parameter permits the Zowe main server to use the client certificate mapping service. Run the command that applies to your ESM. <br/>• [RACF](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L369) <br/>• [ACF2](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L606) <br/>• [Top Secret](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L811) |
| API Mediation Layer identity mapping                       | FACILITY       | `IRR.IDIDMAP.QUERY`         | READ                    | **Optional** Allow Zowe to [map a distributed identity to a z/OS identity](./configure-zos-system.md#configure-main-zowe-server-to-use-distributed-identity-mapping).                                                                                                                                                                                             | This parameter permits the Zowe main server to use distributed identity mapping service. Run the command that applies to your ESM. <br/>• [RACF](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L374) <br/>• [ACF2](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L611) <br/>• [Top Secret](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L815)   |
| API Mediation Layer SMF records                            | FACILITY       | `IRR.RAUDITX`               | READ                    | **Optional** Allow API Mediation Layer to issue [SMF 83 records](./api-mediation/api-mediation-smf) about activity of Personal Access Tokens. For more information about configuring MFA, see [Multi-Factor Authentication (MFA)](./systemrequirements-zos.md/multi-factor-authentication-mfa)                                                                    | This parameter permits the Zowe main server to cut SMF records. Run the command that applies to your ESM. <br/>• [RACF](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L381) <br/>• [ACF2](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L616) <br/>• [Top Secret](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L820)                            |
| ZSS (required for API ML certificate and identity mapping) | FACILITY       | `BPX.SERVER` + `BPX.DAEMON` | UPDATE                  | Allow Zowe to run code on behalf of the API requester's TSO user ID. For more information, see [Security Environment Switching](./configure-zos-system.md#configure-security-environment-switching).                                                                                                                                                              | This parameter permits the Zowe main server to create a user's security environment. Run the command that applies to your ESM. <br/>• [RACF](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L333) <br/>• [ACF2](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L568) <br/>• [Top Secret](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L784)       |
| ZSS (required for API ML certificate and identity mapping) | APPL           | `OMVSAPPL`                  | READ                    | Allow Zowe to run code on behalf of the API requester's TSO user ID. This permission is also required from a requester's TSO user. You can skip this requirement when the resource `OMVSAPPL` in the `APPL` class is not defined. For more information, see [Security Environment Switching](./configure-zos-system.md#configure-security-environment-switching). | This parameter permits the Zowe main server to run the code on behalf of the user. Run the command that applies to your ESM. <br/>• [RACF](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L347) <br/>• [ACF2](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L579) <br/>• [Top Secret](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L796)         |
| ZSS                                                        | FACILITY       | `IRR.RADMIN.LISTUSER`       | READ                    | Allow Zowe to obtain information about OMVS segment of the user profile using `LISTUSER` TSO command.                                                                                                                                                                                                                                                             | This parameter permits the Zowe main server to obtain information about OMVS segment of the user profile. Run the command that applies to your ESM. <br/>• RACF <br/>• ACF2 <br/>• Top Secret                                                                                                                                                                                                                                                                                                                                                                                                    |
| ZSS                                                        | CSFSERV        | `Multiple`                  | READ                    | Generate symmetric keys using ICSF that is used by [Zowe Desktop cookies](./configure-zos-system.md#configure-an-icsf-cryptographic-services-environment).                                                                                                                                                                                                        | The list of IDs to enable include `CSF1TRD` , `CSF1TRC` , `CSF1SKE` , `CSF1SKD`. The full list of IDs is described in the z/OS Cryptographic Services user guide for your z/OS release level: [2.2](https://www.ibm.com/docs/en/zos/2.2.0?topic=ssl-racf-csfserv-resource-requirements), [2.3](https://www.ibm.com/docs/en/zos/2.3.0?topic=ssl-racf-csfserv-resource-requirements), [2.4](https://www.ibm.com/docs/en/zos/2.4.0?topic=ssl-racf-csfserv-resource-requirements) and [2.5](https://www.ibm.com/docs/en/zos/2.5.0?topic=ssl-racf-csfserv-resource-requirements).                     |                |               |                         |                                                                                                                                                            |                                                                                                                                |
| Cross memory server (ZIS)                                  | FACILITY       | `ZWES.IS`                   | READ                    | Allow Zowe ZWESLSTC processes to access the Zowe ZIS cross memory server.                                                                                                                                                                                                                                                                                         | This parameter permits the Zowe main server to use ZIS cross memory server. Run the command that applies to your ESM. <br/>• [RACF](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L329) <br/>• [ACF2](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L560) <br/>• [Top Secret](https://github.com/zowe/zowe-install-packaging/blob/79527166f34e28c205c5f60bf4b4bb7b630bc6a1/workflows/templates/ZWESECUR.vtl#L780)                |




