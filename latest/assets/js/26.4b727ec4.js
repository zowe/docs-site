(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{269:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("As an API developer, use this guide to onboard a Java REST API service that is built without Spring Boot with the Zowe API Mediation Layer. This article outlines a step-by-step process to onboard a Java REST API application with the API Mediation Layer. More detail about each of these steps is described later in this article.")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),s("p",[t._v("The first step to onboard a Java REST API into the Zowe ecosystem is to get enabler annotations from the Artifactory. Enablers prepare your service for discovery in the API Mediation Layer and for the retrieval of Swagger documentation.")]),t._v(" "),s("p",[t._v("You can use either Gradle or Maven build automation systems.")]),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("Use the following procedure if you use Gradle as your build automation system.")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("Use the following procedure if you use Maven as your build automation system.")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),s("p",[t._v("If your application already has Swagger API documentation enabled, skip this step.\nUse the following procedure if your application does not have Swagger API documentation.")]),t._v(" "),t._m(15),t._v(" "),s("ol",[t._m(16),t._v(" "),t._m(17),t._v(" "),s("li",[s("p",[t._v("Customize this configuration according to your specifications. For more information about customization properties,\nsee "),s("a",{attrs:{href:"https://springfox.github.io/springfox/docs/snapshot/#configuring-springfox",target:"_blank",rel:"noopener noreferrer"}},[t._v("Springfox documentation"),s("OutboundLink")],1),t._v(".")])])]),t._v(" "),t._m(18),t._v(" "),s("p",[t._v("To integrate your service with the API Mediation Layer, add the following endpoints to your application:")]),t._v(" "),t._m(19),t._v(" "),s("p",[t._v("The following java code is an example of these endpoints added to the Spring Controller:")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._m(22),t._v(" "),s("p",[t._v("After you add API Mediation Layer integration endpoints, you are ready to add service configuration for Discovery client.")]),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),s("p",[t._v("Add the following code block to add a context listener class:")]),t._v(" "),t._m(29),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._m(33),t._v(" "),s("p",[t._v("All API services require a certificate that is trusted by API Mediation Layer in order to register with it.")]),t._v(" "),t._m(34),t._v(" "),s("ol",[s("li",[s("p",[t._v("Follow instructions at "),s("a",{attrs:{href:"https://github.com/zowe/api-layer/tree/master/keystore#generating-certificate-for-a-new-service-on-localhost",target:"_blank",rel:"noopener noreferrer"}},[t._v("Generating certificate for a new service on localhost"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("If the service runs on localhost, the command uses the following format:")]),t._v(" "),t._m(35),t._v(" "),t._m(36)]),t._v(" "),t._m(37)]),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),s("p",[t._v("After you add all configurations and controllers, you are ready to run your service in the API Mediation Layer ecosystem.")]),t._v(" "),t._m(40),t._v(" "),s("ol",[s("li",[s("p",[t._v("Run the following services to onboard your application:")]),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),s("p",[t._v("see "),s("a",{attrs:{href:"https://github.com/zowe/api-layer/blob/master/docs/local-configuration.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Running the API Mediation Layer on Local Machine."),s("OutboundLink")],1)])]),t._v(" "),t._m(43),t._v(" "),t._m(44)]),t._v(" "),s("p",[t._v("You successfully onboarded your Java application with the API Mediation Layer if your service is running and you can access the API documentation.")]),t._v(" "),t._m(45),t._v(" "),s("p",[t._v("If your service is not visible in the API Catalog, you can check if your service is discovered by the Discovery Service.")]),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),s("p",[t._v("If your service appears in the Discovery Service UI but is not visible in the API Catalog, check to ensure\nthat your configuration settings are correct.")])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"java-rest-apis-service-without-spring-boot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java-rest-apis-service-without-spring-boot","aria-hidden":"true"}},[this._v("#")]),this._v(" Java REST APIs service without Spring Boot")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Follow these steps:")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ol",[s("li",[s("a",{attrs:{href:"#get-enablers-from-the-artifactory"}},[t._v("Get enablers from the Artifactory")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#gradle-guide"}},[t._v("Gradle guide")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#maven-guide"}},[t._v("Maven guide")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#optional-add-swagger-api-documentation-to-your-project"}},[t._v("(Optional) Add Swagger API documentation to your project")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#add-endpoints-to-your-api-for-api-mediation-layer-integration"}},[t._v("Add endpoints to your API for API Mediation Layer integration")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#add-configuration-for-discovery-client"}},[t._v("Add configuration for Discovery client")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#add-a-context-listener"}},[t._v("Add a context listener")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"#add-a-context-listener-class"}},[t._v("Add a context listener class")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#register-a-context-listener"}},[t._v("Register a context listener")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#run-your-service"}},[t._v("Run your service")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#optional-validate-discovery-of-the-api-service-by-the-discovery-service"}},[t._v("(Optional) Validate discovery of the API service by the Discovery Service")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Notes:")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",[s("li",[t._v("This onboarding procedure uses the Spring framework for implementation of a REST API service, and describes how to generate Swagger API documentation using a Springfox library.")]),t._v(" "),s("li",[t._v("If you use another framework that is based on a Servlet API, you can use "),s("code",[t._v("ServletContextListener")]),t._v(" that is described later in this article.")]),t._v(" "),s("li",[t._v("If you use a framework that does not have a "),s("code",[t._v("ServletContextListener")]),t._v(" class, see the "),s("a",{attrs:{href:"#add-a-context-listener"}},[t._v("add context listener")]),t._v(" section in this article for details about how to register and unregister your service with the API Mediation Layer.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites","aria-hidden":"true"}},[this._v("#")]),this._v(" Prerequisites")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Ensure that your REST API service that is written in Java.")]),this._v(" "),a("li",[this._v("Ensure that your service has an endpoint that generates Swagger documentation.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"get-enablers-from-the-artifactory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-enablers-from-the-artifactory","aria-hidden":"true"}},[this._v("#")]),this._v(" Get enablers from the Artifactory")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"gradle-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gradle-guide","aria-hidden":"true"}},[this._v("#")]),this._v(" Gradle guide")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Follow these steps:")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ol",[s("li",[s("p",[t._v("Create a "),s("em",[t._v("gradle.properties")]),t._v(" file in the root of your project.")])]),t._v(" "),s("li",[s("p",[t._v("In the "),s("em",[t._v("gradle.properties")]),t._v(" file, set the following URL of the repository. Use the values provided in the following code block for user credentials to access the Artifactory:")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[t._v("# Repository URL for getting the enabler-java artifact\n"),s("span",{attrs:{class:"token constant"}},[t._v("artifactoryMavenRepo")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),t._v("https://gizaartifactory.jfrog.io/gizaartifactory/libs-release")]),t._v("\n\n# Artifactory credentials for builds:\n"),s("span",{attrs:{class:"token constant"}},[t._v("mavenUser")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),t._v("apilayer-build")]),t._v("\n"),s("span",{attrs:{class:"token constant"}},[t._v("mavenPassword")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),t._v("lHj7sjJmAxL5k7obuf80Of+tCLQYZPMVpDob5oJG1NI=")]),t._v("\n")])])]),s("p",[t._v("This file specifies the URL of the repository of the Artifactory. The enabler-java artifacts are downloaded from this repository.")])]),t._v(" "),s("li",[s("p",[t._v("Add the following Gradle code block to the "),s("code",[t._v("build.gradle")]),t._v(" file:")]),t._v(" "),s("div",{staticClass:"language-gradle extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ext.mavenRepository = {\n    maven {\n        url artifactoryMavenSnapshotRepo\n        credentials {\n            username mavenUser\n            password mavenPassword\n        }\n    }\n}\n\nrepositories mavenRepositories\n")])])]),s("p",[t._v("The "),s("code",[t._v("ext")]),t._v(" object declares the "),s("code",[t._v("mavenRepository")]),t._v(" property. This property is used as the project repository.")])]),t._v(" "),s("li",[s("p",[t._v("In the same "),s("code",[t._v("build.gradle")]),t._v(" file, add the following code to the dependencies code block to add the enabler-java artifact as a dependency of your project:")]),t._v(" "),s("div",{staticClass:"language-gradle extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("compile(group: 'com.ca.mfaas.sdk', name: 'mfaas-integration-enabler-java', version: '1.1.2')\n")])])])]),t._v(" "),s("li",[s("p",[t._v("In your project directory, run the "),s("code",[t._v("gradle build")]),t._v(" command to build your project.")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"maven-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maven-guide","aria-hidden":"true"}},[this._v("#")]),this._v(" Maven guide")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Follow these steps:")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ol",[s("li",[s("p",[t._v("Add the following "),s("em",[t._v("xml")]),t._v(" tags within the newly created "),s("code",[t._v("pom.xml")]),t._v(" file:")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("repositories")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("repository")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("libs-release"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("libs-release"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("https://gizaartifactory.jfrog.io/gizaartifactory/libs-release"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("snapshots")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("enabled")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("false"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("enabled")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("snapshots")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("repository")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("repositories")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("This file specifies the URL of the repository of the Artifactory where you download the enabler-java artifacts.")])]),t._v(" "),s("li",[s("p",[t._v("In the same "),s("code",[t._v("pom.xml")]),t._v(" file, copy the following "),s("em",[t._v("xml")]),t._v(" tags to add the enabler-java artifact as a dependency of your project:")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.ca.mfaas.sdk"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("mfaas-integration-enabler-java"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1.1.2"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("Create a "),s("code",[t._v("settings.xml")]),t._v(" file and copy the following "),s("em",[t._v("xml")]),t._v(" code block which defines the credentials for the Artifactory:")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("settings")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("xmlns")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://maven.apache.org/SETTINGS/1.0.0"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://maven.apache.org/SETTINGS/1.0.0\n                  https://maven.apache.org/xsd/settings-1.0.0.xsd"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("servers")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("server")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n       "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("libs-release"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n       "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("username")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("apilayer-build"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("username")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n       "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("password")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("lHj7sjJmAxL5k7obuf80Of+tCLQYZPMVpDob5oJG1NI="),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("password")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("server")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("servers")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("settings")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("Copy the "),s("code",[t._v("settings.xml")]),t._v(" file inside the "),s("code",[t._v("${user.home}/.m2/")]),t._v(" directory.")])]),t._v(" "),s("li",[s("p",[t._v("In the directory of your project, run the "),s("code",[t._v("mvn package")]),t._v(" command to build the project.")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"optional-add-swagger-api-documentation-to-your-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optional-add-swagger-api-documentation-to-your-project","aria-hidden":"true"}},[this._v("#")]),this._v(" (Optional) Add Swagger API documentation to your project")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Follow these steps:")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("li",[s("p",[t._v("Add a Springfox Swagger dependency.")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("For Gradle add the following dependency in "),s("code",[t._v("build.gradle")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-gradle extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('compile "io.springfox:springfox-swagger2:2.8.0"\n')])])])]),t._v(" "),s("li",[s("p",[t._v("For Maven add the following dependency in "),s("code",[t._v("pom.xml")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("io.springfox"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("springfox-swagger2"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.8.0"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("li",[s("p",[t._v("Add a Spring configuration class to your project:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("package")]),t._v(" com"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ca"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mfaas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hellospring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("configuration"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" org"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Bean"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" org"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Configuration"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" org"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("servlet"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EnableWebMvc"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" org"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("servlet"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("WebMvcConfigurerAdapter"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" springfox"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("builders"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PathSelectors"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" springfox"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("builders"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RequestHandlerSelectors"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" springfox"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApiInfo"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" springfox"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Contact"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" springfox"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spi"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DocumentationType"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" springfox"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plugins"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Docket"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" springfox"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("swagger2"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotations"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EnableSwagger2"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" java"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ArrayList"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Configuration")]),t._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@EnableSwagger2")]),t._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@EnableWebMvc")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("SwaggerConfiguration")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("WebMvcConfigurerAdapter")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Docket "),s("span",{attrs:{class:"token function"}},[t._v("api")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Docket")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("DocumentationType"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SWAGGER_2"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("select")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("apis")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("RequestHandlerSelectors"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("any")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("paths")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PathSelectors"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("any")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("build")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("apiInfo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("ApiInfo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                "),s("span",{attrs:{class:"token string"}},[t._v('"Spring REST API"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{attrs:{class:"token string"}},[t._v('"Example of REST API"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{attrs:{class:"token string"}},[t._v('"1.0.0"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                null"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                null"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                null"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                null"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("ArrayList")]),s("span",{attrs:{class:"token operator"}},[t._v("<")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"add-endpoints-to-your-api-for-api-mediation-layer-integration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-endpoints-to-your-api-for-api-mediation-layer-integration","aria-hidden":"true"}},[this._v("#")]),this._v(" Add endpoints to your API for API Mediation Layer integration")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",[s("li",[s("p",[s("strong",[t._v("Swagger documentation endpoint")])]),t._v(" "),s("p",[t._v("The endpoint for the Swagger documentation.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("Health endpoint")])]),t._v(" "),s("p",[t._v("The endpoint used for health checks by the Discovery Service.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("Info endpoint")])]),t._v(" "),s("p",[t._v("The endpoint to get information about the service.")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Example:")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("package")]),t._v(" com"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ca"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mfaas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hellospring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("controller"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ca"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mfaas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eurekaservice"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("model"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("*"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" org"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stereotype"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Controller"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" org"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bind"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GetMapping"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" org"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bind"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ResponseBody"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" springfox"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotations"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApiIgnore"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Controller")]),t._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@ApiIgnore")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("MfaasController")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"/api-doc"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" String "),s("span",{attrs:{class:"token function"}},[t._v("apiDoc")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"forward:/v2/api-docs"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"/application/health"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@ResponseBody")]),t._v(" Health "),s("span",{attrs:{class:"token function"}},[t._v("getHealth")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Health")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"UP"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"/application/info"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@ResponseBody")]),t._v(" ResponseEntity"),s("span",{attrs:{class:"token generics function"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("EmptyJsonResponse"),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("getDiscoveryInfo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        HttpHeaders headers "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("HttpHeaders")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        headers"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("add")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"Content-Type"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"application/json"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("ResponseEntity")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("EmptyJsonResponse")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" headers"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HttpStatus"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OK"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"add-configuration-for-discovery-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-configuration-for-discovery-client","aria-hidden":"true"}},[this._v("#")]),this._v(" Add configuration for Discovery client")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Follow these steps:")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ol",[s("li",[s("p",[t._v("Create the file "),s("code",[t._v("service-configuration.yml")]),t._v(" in your resources directory.")])]),t._v(" "),s("li",[s("p",[t._v("Add the following configuration to your "),s("code",[t._v("service-configuration.yml")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{attrs:{class:"token key atrule"}},[t._v("serviceId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" hellospring\n"),s("span",{attrs:{class:"token key atrule"}},[t._v("title")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" HelloWorld Spring REST API\n"),s("span",{attrs:{class:"token key atrule"}},[t._v("description")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" POC for exposing a Spring REST API\n"),s("span",{attrs:{class:"token key atrule"}},[t._v("baseUrl")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("10020/hellospring\n"),s("span",{attrs:{class:"token key atrule"}},[t._v("homePageRelativeUrl")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),s("span",{attrs:{class:"token key atrule"}},[t._v("statusPageRelativeUrl")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /application/info\n"),s("span",{attrs:{class:"token key atrule"}},[t._v("healthCheckRelativeUrl")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /application/health\n"),s("span",{attrs:{class:"token key atrule"}},[t._v("discoveryServiceUrls")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" http"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//eureka"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("password@localhost"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("10011/eureka\n"),s("span",{attrs:{class:"token key atrule"}},[t._v("routes")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{attrs:{class:"token key atrule"}},[t._v("gatewayUrl")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" api/v1\n      "),s("span",{attrs:{class:"token key atrule"}},[t._v("serviceUrl")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /hellospring/api/v1    \n"),s("span",{attrs:{class:"token key atrule"}},[t._v("apiInfo")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{attrs:{class:"token key atrule"}},[t._v("apiId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("mfaas.discovery.serviceId"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{attrs:{class:"token key atrule"}},[t._v("gatewayUrl")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" api/v1\n      "),s("span",{attrs:{class:"token key atrule"}},[t._v("swaggerUrl")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("mfaas.server.scheme"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("mfaas.service.hostname"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("mfaas.server.port"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("$"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("mfaas.server.contextPath"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/api"),s("span",{attrs:{class:"token punctuation"}},[t._v("-")]),t._v("doc\n      "),s("span",{attrs:{class:"token key atrule"}},[t._v("documentationUrl")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//docs.zowe.org\n"),s("span",{attrs:{class:"token key atrule"}},[t._v("catalogUiTile")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{attrs:{class:"token key atrule"}},[t._v("id")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" helloworld"),s("span",{attrs:{class:"token punctuation"}},[t._v("-")]),t._v("spring\n    "),s("span",{attrs:{class:"token key atrule"}},[t._v("title")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" HelloWorld Spring REST API\n    "),s("span",{attrs:{class:"token key atrule"}},[t._v("description")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Proof of Concept application to demonstrate exposing a REST API in the MFaaS ecosystem\n    "),s("span",{attrs:{class:"token key atrule"}},[t._v("version")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1.0.0\n")])])])]),t._v(" "),s("li",[s("p",[t._v("Customize your configuration parameters to correspond with your API service specifications.")]),t._v(" "),s("p",[t._v("The following list describes the configuration parameters:")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("serviceId")])]),t._v(" "),s("p",[t._v("Specifies the service instance identifier that is registered in the API Mediation Layer installation.\nThe service ID is used in the URL for routing to the API service through the gateway.\nThe service ID uniquely identifies instances of a microservice in the API Mediation Layer.\nThe system administrator at the customer site defines this parameter.")]),t._v(" "),s("p",[s("strong",[t._v("Important!")]),t._v("  Ensure that the service ID is set properly with the following considerations:")]),t._v(" "),s("ul",[s("li",[t._v("When two API services use the same service ID, the API Gateway considers the services to be clones. An incoming API request can be routed to either of them.")]),t._v(" "),s("li",[t._v("The same service ID should be set only for multiple API service instances for API scalability.")]),t._v(" "),s("li",[t._v("The service ID value must contain only lowercase alphanumeric characters.")]),t._v(" "),s("li",[t._v("The service ID cannot contain more than 40 characters.")]),t._v(" "),s("li",[t._v("The service ID is linked to security resources. Changes to the service ID require an update of security resources.")])]),t._v(" "),s("p",[s("strong",[t._v("Examples:")])]),t._v(" "),s("ul",[s("li",[t._v("If the customer system administrator sets the service ID to "),s("code",[t._v("sysviewlpr1")]),t._v(", the API URL in the API Gateway appears as the following URL:"),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("https://gateway:port/api/v1/sysviewlpr1/endpoint1/...\n")])])])]),t._v(" "),s("li",[t._v("If a customer system administrator sets the service ID to vantageprod1, the API URL in the API Gateway appears as the following URL:"),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("http://gateway:port/api/v1/vantageprod1/endpoint1/...\n")])])])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("title")])]),t._v(" "),s("p",[t._v('Specifies the human readable name of the API service instance (for example, "Endevor Prod" or "Sysview LPAR1"). This value is displayed in the API Catalog when a specific API service instance is selected. This parameter is externalized and set by the customer system administrator.')]),t._v(" "),s("p",[s("strong",[t._v("Tip:")]),t._v(" We recommend that you provide a specific default value of the "),s("code",[t._v("title")]),t._v(".\nUse a title that describes the service instance so that the end user knows the specific purpose of the service instance.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("description")])]),t._v(" "),s("p",[t._v("Specifies a short description of the API service.")]),t._v(" "),s("p",[s("strong",[t._v("Example:")]),t._v(' "CA Endevor SCM - Production Instance" or "CA SYSVIEW running on LPAR1".')]),t._v(" "),s("p",[t._v("This value is displayed in the API Catalog when a specific API service instance is selected. This parameter is externalized and set by the customer system administrator.")]),t._v(" "),s("p",[s("strong",[t._v("Tip:")]),t._v(" Describe the service so that the end user knows the function of the service.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("baseUrl")])]),t._v(" "),s("p",[t._v("Specifies the URL to your service to the REST resource. It will be the prefix for the following URLs:")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("homePageRelativeUrl")])]),t._v(" "),s("li",[s("strong",[t._v("statusPageRelativeUrl")])]),t._v(" "),s("li",[s("strong",[t._v("healthCheckRelativeUrl")]),t._v(".")])]),t._v(" "),s("p",[s("strong",[t._v("Examples:")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("http://host:port/servicename")]),t._v(" for HTTP service")]),t._v(" "),s("li",[s("code",[t._v("https://host:port/servicename")]),t._v(" for HTTPS service")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("homePageRelativeUrl")])]),t._v(" "),s("p",[t._v("Specifies the relative path to the home page of your service. The path should start with "),s("code",[t._v("/")]),t._v(".\nIf your service has no home page, leave this parameter blank.")]),t._v(" "),s("p",[s("strong",[t._v("Examples:")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("homePageRelativeUrl:")]),t._v(" The service has no home page")]),t._v(" "),s("li",[s("code",[t._v("homePageRelativeUrl: /")]),t._v(" The service has home page with URL "),s("code",[t._v("${baseUrl}/")])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("statusPageRelativeUrl")])]),t._v(" "),s("p",[t._v("Specifies the relative path to the status page of your service.\nThis is the endpoint that you defined in the "),s("code",[t._v("MfaasController")]),t._v(" controller in the "),s("code",[t._v("getDiscoveryInfo")]),t._v(" method.\nStart this path with "),s("code",[t._v("/")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Example:")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("statusPageRelativeUrl: /application/info")]),t._v(" the result URL will be "),s("code",[t._v("${baseUrl}/application/info")])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("healthCheckRelativeUrl")])]),t._v(" "),s("p",[t._v("Specifies the relative path to the health check endpoint of your service.\nThis is the endpoint that you defined in the "),s("code",[t._v("MfaasController")]),t._v(" controller in the\n"),s("code",[t._v("getHealth")]),t._v(" method. Start this URL with "),s("code",[t._v("/")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Example:")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("healthCheckRelativeUrl: /application/health")]),t._v(". This results in the URL:\n"),s("code",[t._v("${baseUrl}/application/health")])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("discoveryServiceUrls")])]),t._v(" "),s("p",[t._v("Specifies the public URL of the Discovery Service. The system administrator at the customer site defines this parameter.")]),t._v(" "),s("p",[s("strong",[t._v("Example:")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("http://eureka:password@141.202.65.33:10311/eureka/")])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("routedServices")])]),t._v(" "),s("p",[t._v("The routing rules between the gateway service and your service.")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("routedServices.gatewayUrl")])]),t._v(" "),s("p",[t._v("Both gateway-url and service-url parameters specify how the API service endpoints are mapped to the API\ngateway endpoints. The gateway-url parameter sets the target endpoint on the gateway.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("routedServices.serviceUrl")])]),t._v(" "),s("p",[t._v("Both gateway-url and service-url parameters specify how the API service endpoints are mapped to the API\ngateway endpoints. The service-url parameter points to the target endpoint on the gateway.")])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("apiInfo.apiId")])]),t._v(" "),s("p",[t._v("Specifies the API identifier that is registered in the API Mediation Layer installation.\nThe API ID uniquely identifies the API in the API Mediation Layer.\nThe same API can be provided by multiple services. The API ID can be used\nto locate the same APIs that are provided by different services.\nThe creator of the API defines this ID.\nThe API ID needs to be a string of up to 64 characters\nthat uses lowercase alphanumeric characters and a dot: "),s("code",[t._v(".")]),t._v(".\nWe recommend that you use your organization as the prefix.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("apiInfo.gatewayUrl")])]),t._v(" "),s("p",[t._v("The base path at the API Gateway where the API is available. Ensure that this is\nthe same path as the "),s("em",[t._v("gatewayUrl")]),t._v(" value in the "),s("em",[t._v("routes")]),t._v(" sections.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("apiInfo.swaggerUrl")])]),t._v(" "),s("p",[t._v("(Optional) Specifies the HTTP or HTTPS address where the Swagger JSON document is available.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("apiInfo.documentationUrl")])]),t._v(" "),s("p",[t._v("(Optional) Link to external documentation, if needed. The link to the external documentation can be included along with the Swagger documentation.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("catalogUiTile.id")])]),t._v(" "),s("p",[t._v('Specifies the unique identifier for the API services product family.\nThis is the grouping value used by the API Mediation Layer to group multiple API services\ntogether into "tiles".\nEach unique identifier represents a single API Catalog UI dashboard tile.\nSpecify a value that does not interfere with API services from other products.')])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("catalogUiTile.title")])]),t._v(" "),s("p",[t._v("Specifies the title of the API services product family. This value is displayed in the API catalog UI dashboard as the tile title.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("catalogUiTile.description")])]),t._v(" "),s("p",[t._v("Specifies the detailed description of the API services product family.\nThis value is displayed in the API catalog UI dashboard as the tile description.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("catalogUiTile.version")])]),t._v(" "),s("p",[t._v("Specifies the semantic version of this API Catalog tile.\nIncrease the number of the version when you introduce new changes to the product family details of the API services\nincluding the title and description.")])])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"add-a-context-listener"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-a-context-listener","aria-hidden":"true"}},[this._v("#")]),this._v(" Add a context listener")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("The context listener invokes the "),a("code",[this._v("apiMediationClient.register(config)")]),this._v(" method to register the application with\nthe API Mediation Layer when the application starts. The context listener also invokes the "),a("code",[this._v("apiMediationClient.unregister()")]),this._v(" method\nbefore the application shuts down to unregister the application in API Mediation Layer.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Note:")]),this._v(" If you do not use a Java Servlet API based framework, you can still call the same methods for "),a("code",[this._v("apiMediationClient")]),this._v("\nto register and unregister your application.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"add-a-context-listener-class"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-a-context-listener-class","aria-hidden":"true"}},[this._v("#")]),this._v(" Add a context listener class")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("package")]),t._v(" com"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ca"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mfaas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hellospring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listener"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ca"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mfaas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eurekaservice"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("client"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApiMediationClient"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ca"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mfaas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eurekaservice"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("client"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApiMediationServiceConfig"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ca"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mfaas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eurekaservice"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("client"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("impl"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApiMediationClientImpl"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ca"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mfaas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eurekaservice"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("client"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApiMediationServiceConfigReader"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" javax"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("servlet"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ServletContextEvent"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" javax"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("servlet"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ServletContextListener"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("ApiDiscoveryListener")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("ServletContextListener")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("private")]),t._v(" ApiMediationClient apiMediationClient"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("contextInitialized")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ServletContextEvent sce"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        apiMediationClient "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("ApiMediationClientImpl")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        String configurationFile "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"/service-configuration.yml"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        ApiMediationServiceConfig config "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("ApiMediationServiceConfigReader")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("configurationFile"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("readConfiguration")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        apiMediationClient"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("register")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("contextDestroyed")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ServletContextEvent sce"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        apiMediationClient"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("unregister")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"register-a-context-listener"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#register-a-context-listener","aria-hidden":"true"}},[this._v("#")]),this._v(" Register a context listener")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Register a context listener to start Discovery client. Add the following code block to the\ndeployment descriptor "),a("code",[this._v("web.xml")]),this._v(" to register a context listener:")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("listener")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("listener-class")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.ca.mfaas.hellospring.listener.ApiDiscoveryListener"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("listener-class")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("listener")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"setup-key-store-with-the-service-certificate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup-key-store-with-the-service-certificate","aria-hidden":"true"}},[this._v("#")]),this._v(" Setup key store with the service certificate")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Follow these steps:")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("pre",[a("code",[this._v('<api-layer-repository>/scripts/apiml_cm.sh --action new-service --service-alias localhost --service-ext SAN=dns:localhost.localdomain,dns:localhost --service-keystore keystore/localhost.keystore.p12 --service-truststore keystore/localhost.truststore.p12 --service-dname "CN=Sample REST API Service, OU=Mainframe, O=Zowe, L=Prague, S=Prague, C=Czechia" --service-password password --service-validity 365 --local-ca-filename <api-layer-repository>/keystore/local_ca/localca    \n')])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Alternatively, copy or use the "),a("code",[this._v("<api-layer-repository>/keystore/localhost.truststore.p12")]),this._v(" in your service without generating a new certificate, for local development.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("p",[this._v("Update the configuration of your service "),a("code",[this._v("service-configuration.yml")]),this._v(" to contain the HTTPS configuration by adding the following code:")]),this._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("    ssl:\n        protocol: TLSv1.2\n        ciphers: TLS_RSA_WITH_AES_128_CBC_SHA,TLS_DHE_RSA_WITH_AES_256_CBC_SHA,TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384,TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384,TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_EMPTY_RENEGOTIATION_INFO_SCSV\n        keyAlias: localhost\n        keyPassword: password\n        keyStore: keystore/localhost.keystore.p12\n        keyStoreType: PKCS12\n        keyStorePassword: password\n        trustStore: keystore/localhost.truststore.p12\n        trustStoreType: PKCS12\n        trustStorePassword: password\n eureka:\n     instance:\n         nonSecurePortEnabled: false\n         securePortEnabled: true\n")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Note:")]),this._v(" You need to define both key store and trust store even if your server is not using HTTPS port.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"run-your-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#run-your-service","aria-hidden":"true"}},[this._v("#")]),this._v(" Run your service")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Follow these steps:")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("Gateway Service")]),this._v(" "),a("li",[this._v("Discovery Service")]),this._v(" "),a("li",[this._v("API Catalog Service")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Tip:")]),this._v(" For more information about how to run the API Mediation Layer locally,")])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("p",[this._v("Run your Java application.")]),this._v(" "),a("p",[a("strong",[this._v("Tip:")]),this._v(" Wait for the Discovery Service to discover your service. This process may take a few minutes.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("p",[this._v("Go to the following URL to reach the API Catalog through the Gateway (port 10010):")]),this._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("https://localhost:10010/ui/v1/apicatalog/\n")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"optional-validate-discovery-of-the-api-service-by-the-discovery-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optional-validate-discovery-of-the-api-service-by-the-discovery-service","aria-hidden":"true"}},[this._v("#")]),this._v(" (Optional) Validate discovery of the API service by the Discovery Service")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Follow these steps:")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ol",[s("li",[t._v("Go to "),s("code",[t._v("http://localhost:10011")]),t._v(".")]),t._v(" "),s("li",[t._v("Enter "),s("em",[t._v("eureka")]),t._v(" as a username and "),s("em",[t._v("password")]),t._v(" as a password.")]),t._v(" "),s("li",[t._v("Check if your application appears in the Discovery Service UI.")])])}],!1,null,null,null);e.options.__file="api-mediation-onboard-an-existing-java-rest-api-service-without-spring-boot-with-zowe-api-mediation-layer.md";a.default=e.exports}}]);